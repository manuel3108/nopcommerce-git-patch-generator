import{S as Re,i as Ue,s as Ge,e as f,k as N,t as w,c as d,a as m,d as s,n as O,g as y,b,K as nt,f as E,E as l,L as ee,h as ct,F as de,M as ut,N as gt,O as ft,P as wt,Q as yt,R as je,T as We,j as qe,m as Fe,o as He,U as Me,x as he,u as pe,v as Ke,l as dt,V as Oe,w as Et,A as kt,r as It,W as Nt}from"../chunks/vendor-ec2a0a5f.js";function Ot(r){let e,t,c,n,i,a,_,p,v,u,k,h,I,L,H,V,A,D,j,B,W,q,S;return{c(){e=f("div"),t=f("div"),c=N(),n=f("div"),i=f("header"),a=f("p"),_=w("How to apply the downloaded git patch file?"),p=N(),v=f("button"),u=N(),k=f("section"),h=f("pre"),I=w(`cd your-working-dir
git apply `),L=w(r[1]),H=N(),V=f("footer"),A=f("button"),D=w("Copy Git Command"),j=N(),B=f("button"),W=w("Cancel"),this.h()},l(P){e=d(P,"DIV",{class:!0});var C=m(e);t=d(C,"DIV",{class:!0}),m(t).forEach(s),c=O(C),n=d(C,"DIV",{class:!0});var F=m(n);i=d(F,"HEADER",{class:!0});var X=m(i);a=d(X,"P",{class:!0});var M=m(a);_=y(M,"How to apply the downloaded git patch file?"),M.forEach(s),p=O(X),v=d(X,"BUTTON",{class:!0,"aria-label":!0}),m(v).forEach(s),X.forEach(s),u=O(F),k=d(F,"SECTION",{class:!0});var R=m(k);h=d(R,"PRE",{});var te=m(h);I=y(te,`cd your-working-dir
git apply `),L=y(te,r[1]),te.forEach(s),R.forEach(s),H=O(F),V=d(F,"FOOTER",{class:!0});var Y=m(V);A=d(Y,"BUTTON",{class:!0});var U=m(A);D=y(U,"Copy Git Command"),U.forEach(s),j=O(Y),B=d(Y,"BUTTON",{class:!0});var K=m(B);W=y(K,"Cancel"),K.forEach(s),Y.forEach(s),F.forEach(s),C.forEach(s),this.h()},h(){b(t,"class","modal-background"),b(a,"class","modal-card-title"),b(v,"class","delete"),b(v,"aria-label","close"),b(i,"class","modal-card-head"),b(k,"class","modal-card-body"),b(A,"class","button is-success"),b(B,"class","button"),b(V,"class","modal-card-foot"),b(n,"class","modal-card svelte-1orp2qh"),b(e,"class","modal"),nt(e,"is-active",r[0])},m(P,C){E(P,e,C),l(e,t),l(e,c),l(e,n),l(n,i),l(i,a),l(a,_),l(i,p),l(i,v),l(n,u),l(n,k),l(k,h),l(h,I),l(h,L),l(n,H),l(n,V),l(V,A),l(A,D),l(V,j),l(V,B),l(B,W),q||(S=[ee(t,"click",r[2]),ee(v,"click",r[3]),ee(A,"click",r[4]),ee(B,"click",r[5])],q=!0)},p(P,[C]){C&2&&ct(L,P[1]),C&1&&nt(e,"is-active",P[0])},i:de,o:de,d(P){P&&s(e),q=!1,ut(S)}}}function Tt(r,e,t){let{isOpen:c=!0}=e,{fileName:n}=e;const i=()=>t(0,c=!1),a=()=>t(0,c=!1),_=()=>navigator.clipboard.writeText(`git apply ${n}`),p=()=>t(0,c=!1);return r.$$set=v=>{"isOpen"in v&&t(0,c=v.isOpen),"fileName"in v&&t(1,n=v.fileName)},[c,n,i,a,_,p]}class Dt extends Re{constructor(e){super();Ue(this,e,Tt,Ot,Ge,{isOpen:0,fileName:1})}}function ht(r,e,t){const c=r.slice();return c[3]=e[t],c}function pt(r){let e,t=r[3].name+"",c,n;return{c(){e=f("option"),c=w(t),this.h()},l(i){e=d(i,"OPTION",{});var a=m(e);c=y(a,t),a.forEach(s),this.h()},h(){e.__value=n=r[3].commit.sha,e.value=e.__value},m(i,a){E(i,e,a),l(e,c)},p(i,a){a&2&&t!==(t=i[3].name+"")&&ct(c,t),a&2&&n!==(n=i[3].commit.sha)&&(e.__value=n,e.value=e.__value)},d(i){i&&s(e)}}}function Pt(r){let e,t,c,n,i,a=r[1],_=[];for(let p=0;p<a.length;p+=1)_[p]=pt(ht(r,a,p));return{c(){e=f("select"),t=f("option"),c=w("---");for(let p=0;p<_.length;p+=1)_[p].c();this.h()},l(p){e=d(p,"SELECT",{class:!0});var v=m(e);t=d(v,"OPTION",{});var u=m(t);c=y(u,"---"),u.forEach(s);for(let k=0;k<_.length;k+=1)_[k].l(v);v.forEach(s),this.h()},h(){t.disabled=!0,t.selected=!0,t.hidden=!0,t.__value="",t.value=t.__value,b(e,"class","select"),r[0]===void 0&&gt(()=>r[2].call(e))},m(p,v){E(p,e,v),l(e,t),l(t,c);for(let u=0;u<_.length;u+=1)_[u].m(e,null);ft(e,r[0]),n||(i=ee(e,"change",r[2]),n=!0)},p(p,[v]){if(v&2){a=p[1];let u;for(u=0;u<a.length;u+=1){const k=ht(p,a,u);_[u]?_[u].p(k,v):(_[u]=pt(k),_[u].c(),_[u].m(e,null))}for(;u<_.length;u+=1)_[u].d(1);_.length=a.length}v&3&&ft(e,p[0])},i:de,o:de,d(p){p&&s(e),wt(_,p),n=!1,i()}}}function Ct(r,e,t){let{tags:c=[]}=e,{value:n=""}=e;function i(){n=yt(this),t(0,n),t(1,c)}return r.$$set=a=>{"tags"in a&&t(1,c=a.tags),"value"in a&&t(0,n=a.value)},[n,c,i]}class _t extends Re{constructor(e){super();Ue(this,e,Ct,Pt,Ge,{tags:1,value:0})}}function At(r){let e,t,c,n;return{c(){e=f("a"),t=w("Download"),this.h()},l(i){e=d(i,"A",{class:!0,href:!0});var a=m(e);t=y(a,"Download"),a.forEach(s),this.h()},h(){b(e,"class","button is-primary"),b(e,"href",r[3])},m(i,a){E(i,e,a),l(e,t),c||(n=ee(e,"click",r[12]),c=!0)},p(i,a){a&8&&b(e,"href",i[3])},d(i){i&&s(e),c=!1,n()}}}function Vt(r){let e,t,c,n,i,a,_,p,v,u,k;return{c(){e=w("A patch file for your selected commit range does not exist at the moment."),t=f("br"),c=w(`
		But we would be more then happy to create it for you.`),n=f("br"),i=w(`
		We have created an automated process for you, which only takes a few minutes and will require you
		to create an issue on github.`),a=f("br"),_=w(`
		We will guide you throgh the process from here on.`),p=f("br"),v=N(),u=f("a"),k=w("Create an issue on Github!"),this.h()},l(h){e=y(h,"A patch file for your selected commit range does not exist at the moment."),t=d(h,"BR",{}),c=y(h,`
		But we would be more then happy to create it for you.`),n=d(h,"BR",{}),i=y(h,`
		We have created an automated process for you, which only takes a few minutes and will require you
		to create an issue on github.`),a=d(h,"BR",{}),_=y(h,`
		We will guide you throgh the process from here on.`),p=d(h,"BR",{}),v=O(h),u=d(h,"A",{href:!0,class:!0});var I=m(u);k=y(I,"Create an issue on Github!"),I.forEach(s),this.h()},h(){b(u,"href",r[7]()),b(u,"class","button is-primary")},m(h,I){E(h,e,I),E(h,t,I),E(h,c,I),E(h,n,I),E(h,i,I),E(h,a,I),E(h,_,I),E(h,p,I),E(h,v,I),E(h,u,I),l(u,k)},p:de,d(h){h&&s(e),h&&s(t),h&&s(c),h&&s(n),h&&s(i),h&&s(a),h&&s(_),h&&s(p),h&&s(v),h&&s(u)}}}function Bt(r){let e;return{c(){e=w("Please select by tags or commits, in order to determine the availability of your patch file.")},l(t){e=y(t,"Please select by tags or commits, in order to determine the availability of your patch file.")},m(t,c){E(t,e,c)},p:de,d(t){t&&s(e)}}}function mt(r){let e,t,c;function n(a){r[13](a)}let i={fileName:r[5]};return r[4]!==void 0&&(i.isOpen=r[4]),e=new Dt({props:i}),je.push(()=>We(e,"isOpen",n)),{c(){qe(e.$$.fragment)},l(a){Fe(e.$$.fragment,a)},m(a,_){He(e,a,_),c=!0},p(a,_){const p={};_&32&&(p.fileName=a[5]),!t&&_&16&&(t=!0,p.isOpen=a[4],Me(()=>t=!1)),e.$set(p)},i(a){c||(he(e.$$.fragment,a),c=!0)},o(a){pe(e.$$.fragment,a),c=!1},d(a){Ke(e,a)}}}function Lt(r){let e,t,c,n,i,a,_,p,v,u,k,h,I,L,H,V,A,D,j,B,W,q,S,P,C,F,X,M,R,te,Y,U,K,Te,De,se,Q,Pe,_e,z,Z,oe,Ce,Ae,re,le,Ve,$,ie,Be,Le,ne,ae,me,x,ve,ce,be,Se,Qe;function vt(o){r[8](o)}let ze={tags:r[2]};r[0]!==void 0&&(ze.value=r[0]),R=new _t({props:ze}),je.push(()=>We(R,"value",vt));function bt(o){r[9](o)}let Je={tags:r[2]};r[1]!==void 0&&(Je.value=r[1]),Q=new _t({props:Je}),je.push(()=>We(Q,"value",bt));function Xe(o,g){return!o[0]||!o[1]?Bt:o[6]?At:Vt}let ge=Xe(r),G=ge(r),T=r[4]&&mt(r);return{c(){e=f("div"),t=f("h1"),c=w("NopCommerce Patch Generator"),n=N(),i=f("p"),a=w(`This tool generates a patches for NopCommerce. In order to download your patch file, please
		select the NopCommerce release from an dropdown, or enter the start and end sha manually.`),_=N(),p=f("br"),v=N(),u=f("ul"),k=w("Aditional notes:"),h=f("br"),I=N(),L=f("li"),H=w(`The patch file will be created relatively to the src directory of the nopcommerce repository.
			Please be sure to apply your patch in the root of your project.`),V=N(),A=f("li"),D=w("The patch will also include update binary files such as images and dll's."),j=N(),B=f("li"),W=w(`If the patch file for your selection does not exist, we will redirect you to Github to create
			an issue. From there on an automatic process takes places, and will generete the patch file
			you. After the patch file is generated, you will be redirected back to the website to download
			the patch.`),q=N(),S=f("div"),P=f("div"),C=f("label"),F=w("Start tag (older release)"),X=N(),M=f("div"),qe(R.$$.fragment),Y=N(),U=f("div"),K=f("label"),Te=w("End tag (newer release)"),De=N(),se=f("div"),qe(Q.$$.fragment),_e=N(),z=f("div"),Z=f("div"),oe=f("label"),Ce=w("Start commit (older commit)"),Ae=N(),re=f("div"),le=f("input"),Ve=N(),$=f("div"),ie=f("label"),Be=w("End commit (newer commit)"),Le=N(),ne=f("div"),ae=f("input"),me=N(),x=f("div"),G.c(),ve=N(),T&&T.c(),ce=dt(),this.h()},l(o){e=d(o,"DIV",{class:!0});var g=m(e);t=d(g,"H1",{class:!0});var ue=m(t);c=y(ue,"NopCommerce Patch Generator"),ue.forEach(s),n=O(g),i=d(g,"P",{});var fe=m(i);a=y(fe,`This tool generates a patches for NopCommerce. In order to download your patch file, please
		select the NopCommerce release from an dropdown, or enter the start and end sha manually.`),fe.forEach(s),_=O(g),p=d(g,"BR",{}),v=O(g),u=d(g,"UL",{class:!0});var J=m(u);k=y(J,"Aditional notes:"),h=d(J,"BR",{}),I=O(J),L=d(J,"LI",{});var Ye=m(L);H=y(Ye,`The patch file will be created relatively to the src directory of the nopcommerce repository.
			Please be sure to apply your patch in the root of your project.`),Ye.forEach(s),V=O(J),A=d(J,"LI",{});var Ze=m(A);D=y(Ze,"The patch will also include update binary files such as images and dll's."),Ze.forEach(s),j=O(J),B=d(J,"LI",{});var $e=m(B);W=y($e,`If the patch file for your selection does not exist, we will redirect you to Github to create
			an issue. From there on an automatic process takes places, and will generete the patch file
			you. After the patch file is generated, you will be redirected back to the website to download
			the patch.`),$e.forEach(s),J.forEach(s),g.forEach(s),q=O(o),S=d(o,"DIV",{class:!0});var we=m(S);P=d(we,"DIV",{class:!0});var ye=m(P);C=d(ye,"LABEL",{class:!0});var xe=m(C);F=y(xe,"Start tag (older release)"),xe.forEach(s),X=O(ye),M=d(ye,"DIV",{class:!0});var et=m(M);Fe(R.$$.fragment,et),et.forEach(s),ye.forEach(s),Y=O(we),U=d(we,"DIV",{class:!0});var Ee=m(U);K=d(Ee,"LABEL",{class:!0});var tt=m(K);Te=y(tt,"End tag (newer release)"),tt.forEach(s),De=O(Ee),se=d(Ee,"DIV",{class:!0});var lt=m(se);Fe(Q.$$.fragment,lt),lt.forEach(s),Ee.forEach(s),we.forEach(s),_e=O(o),z=d(o,"DIV",{class:!0});var ke=m(z);Z=d(ke,"DIV",{class:!0});var Ie=m(Z);oe=d(Ie,"LABEL",{class:!0});var at=m(oe);Ce=y(at,"Start commit (older commit)"),at.forEach(s),Ae=O(Ie),re=d(Ie,"DIV",{class:!0});var st=m(re);le=d(st,"INPUT",{}),st.forEach(s),Ie.forEach(s),Ve=O(ke),$=d(ke,"DIV",{class:!0});var Ne=m($);ie=d(Ne,"LABEL",{class:!0});var ot=m(ie);Be=y(ot,"End commit (newer commit)"),ot.forEach(s),Le=O(Ne),ne=d(Ne,"DIV",{class:!0});var rt=m(ne);ae=d(rt,"INPUT",{}),rt.forEach(s),Ne.forEach(s),ke.forEach(s),me=O(o),x=d(o,"DIV",{class:!0});var it=m(x);G.l(it),it.forEach(s),ve=O(o),T&&T.l(o),ce=dt(),this.h()},h(){b(t,"class","title"),b(u,"class","notes svelte-11u8c3u"),b(e,"class","box split"),b(C,"class","label"),b(M,"class","control svelte-11u8c3u"),b(P,"class","field svelte-11u8c3u"),b(K,"class","label"),b(se,"class","control svelte-11u8c3u"),b(U,"class","field svelte-11u8c3u"),b(S,"class","box split svelte-11u8c3u"),b(oe,"class","label"),b(re,"class","control svelte-11u8c3u"),b(Z,"class","field svelte-11u8c3u"),b(ie,"class","label"),b(ne,"class","control svelte-11u8c3u"),b($,"class","field svelte-11u8c3u"),b(z,"class","box split svelte-11u8c3u"),b(x,"class","box")},m(o,g){E(o,e,g),l(e,t),l(t,c),l(e,n),l(e,i),l(i,a),l(e,_),l(e,p),l(e,v),l(e,u),l(u,k),l(u,h),l(u,I),l(u,L),l(L,H),l(u,V),l(u,A),l(A,D),l(u,j),l(u,B),l(B,W),E(o,q,g),E(o,S,g),l(S,P),l(P,C),l(C,F),l(P,X),l(P,M),He(R,M,null),l(S,Y),l(S,U),l(U,K),l(K,Te),l(U,De),l(U,se),He(Q,se,null),E(o,_e,g),E(o,z,g),l(z,Z),l(Z,oe),l(oe,Ce),l(Z,Ae),l(Z,re),l(re,le),Oe(le,r[0]),l(z,Ve),l(z,$),l($,ie),l(ie,Be),l($,Le),l($,ne),l(ne,ae),Oe(ae,r[1]),E(o,me,g),E(o,x,g),G.m(x,null),E(o,ve,g),T&&T.m(o,g),E(o,ce,g),be=!0,Se||(Qe=[ee(le,"input",r[10]),ee(ae,"input",r[11])],Se=!0)},p(o,[g]){const ue={};g&4&&(ue.tags=o[2]),!te&&g&1&&(te=!0,ue.value=o[0],Me(()=>te=!1)),R.$set(ue);const fe={};g&4&&(fe.tags=o[2]),!Pe&&g&2&&(Pe=!0,fe.value=o[1],Me(()=>Pe=!1)),Q.$set(fe),g&1&&le.value!==o[0]&&Oe(le,o[0]),g&2&&ae.value!==o[1]&&Oe(ae,o[1]),ge===(ge=Xe(o))&&G?G.p(o,g):(G.d(1),G=ge(o),G&&(G.c(),G.m(x,null))),o[4]?T?(T.p(o,g),g&16&&he(T,1)):(T=mt(o),T.c(),he(T,1),T.m(ce.parentNode,ce)):T&&(It(),pe(T,1,1,()=>{T=null}),Et())},i(o){be||(he(R.$$.fragment,o),he(Q.$$.fragment,o),he(T),be=!0)},o(o){pe(R.$$.fragment,o),pe(Q.$$.fragment,o),pe(T),be=!1},d(o){o&&s(e),o&&s(q),o&&s(S),Ke(R),Ke(Q),o&&s(_e),o&&s(z),o&&s(me),o&&s(x),G.d(),o&&s(ve),T&&T.d(o),o&&s(ce),Se=!1,ut(Qe)}}}function St(r,e,t){let c=[],n,i,a="",_=!1,p,v=!1;kt(async()=>{const D=new URLSearchParams(window.location.search);t(0,n=D.get("startSha")),t(1,i=D.get("endSha")),console.log(n,i);const j=await fetch("https://api.github.com/repos/nopSolutions/nopCommerce/tags?per_page=100");t(2,c=await j.json())});async function u(){const W=(await(await fetch("https://api.github.com/repos/manuel3108/nopcommerce-git-patch-generator/releases/latest")).json()).assets.find(q=>q.name===p);W!==void 0?(t(3,a=W.browser_download_url),t(6,v=!0)):t(6,v=!1)}function k(){return Nt({user:"manuel3108",repo:"nopcommerce-git-patch-generator",title:`Patch: ${n}_${i}`,body:`
After creating this issue an github action will be triggered to generate the patch just for you.
Additionally a bot will comment on the issue and inform you when the patch is ready.
After the patch has been created, you will be redirected back to the website to download the patch.
Overall the process should not take you more then five minutes.
			`})}function h(D){n=D,t(0,n)}function I(D){i=D,t(1,i)}function L(){n=this.value,t(0,n)}function H(){i=this.value,t(1,i)}const V=()=>t(4,_=!0);function A(D){_=D,t(4,_)}return r.$$.update=()=>{r.$$.dirty&3&&n&&i&&(t(5,p=`${n}_${i}.patch`),u())},[n,i,c,a,_,p,v,k,h,I,L,H,V,A]}class Ut extends Re{constructor(e){super();Ue(this,e,St,Lt,Ge,{})}}export{Ut as default};
